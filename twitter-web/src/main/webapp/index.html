<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Twinterest Explorer</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Roboto:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/main.css">
	<script src="js/vendor/modernizr-2.6.2.min.js"></script>
</head>
    
<body ng-app="twitterWeb.app">
	<div class="container-fluid page-title">
		<h1 class="text-center text-title"><a href="/" target="_self" class="plain-link"><img class="icon-twit" src="img/twitter-256.png" height="48"> Twinterest Explorer <span class="it">(Beta)</span></a></h1>
	</div>
    	
    <div class="container" ng-controller="TwitterController">  
   		<div class="row">
   			<div class="col-md-3">
    			<h4>Get users from Twitter by seed user:</h4>
	    		<form class="form-target-user" ng-submit="getSeedUser(screenName)">
				    <div class="input-group input-group-lg text-muted">
				    	<span class="input-group-addon">@</span>
						<input ng-model="screenName" type="text" class="form-control">
						<span class="input-group-btn">
							<button class="btn btn-default" ng-click="getSeedUser(screenName)" type="button">Go!</button>
						</span>
				    </div>
			    </form>
		    </div>
		    <div class="col-md-3">
    			<h4>Get users from Twitter by keyword:</h4>
	    		<form class="form-target-user" ng-submit="getKeywordUsers(keyword)">
				    <div class="input-group input-group-lg">
						<input ng-model="keyword" type="text" class="form-control">
						<span class="input-group-btn">
							<button class="btn btn-default" ng-click="getKeywordUsers(keyword)" type="button">Go!</button>
						</span>
				    </div>
			    </form>
		    </div>
		    <div class="col-md-2" style="padding-top: 32px;">
				<input type="file" id="gtfile">
				<button id="gtupload" class="btn btn-default" type="button" gt-button>Upload a ground truth file</button>
			</div>
			<div class="col-md-1" style="padding-top: 40px; font-size: 16px;">
	    		Generality bias
	    		<input style="padding-top: 4px;" type="range" id="genbias" min=-1 value=0.4 max=1 step=0.1 ng-model="generalityBias">
	    		
	    	</div>
	    	<div class="col-md-1" style="padding-top: 32px;">
	    		<output style="font-size: 24px; font-weight: 300" for="genbias" id=volume ng-bind="generalityBias"></output>
	    	</div>
			<!-- <div class="col-md-2" style="padding-top: 32px;">
				<input type="file" id="ldafile">
				<button id="ldaupload" class="btn btn-default" type="button">Upload an LDA result file</button>
			</div> -->
		    <div class="col-md-push-1 col-md-1 text-muted" style="padding-top: 44px;">
    			<a href="" data-toggle="modal" data-target="#settingsModal" ng-click="openModal = true"><i class="fa fa-gear pull-left" style="color: #666666; font-size: 36px;"></i></a>
    			
    			<div class="text-right" style="color: #000; display: inline; margin-left: 16px;" ng-if="loadingUsers || updatingCFIUF || updatingSimilarityGraph || clusteringNetwork">
	    			<i class="fa fa-spinner fa-spin text-loading"></i>
				</div>
		    </div>
		</div>

		<div class="row row-settings" ng-cloak>
			<div class="col-md-6 animate-show-hide" style="padding-top: 0px;" ng-show="visibleUsers.length > 0" ng-cloak>
	    		<h3>Got <span ng-bind="visibleUsers.length"></span> valid users (with enough English tweets)</h3>
	    	</div>
	    	<div class="col-md-3 animate-show-hide text-right" style="padding-top: 0px;" ng-show="visibleUsers.length > 1 && (loadingUsers || updatingCFIUF || updatingSimilarityGraph || clusteringNetwork)" ng-cloak>
	    		<h3>Calculating topic clusters...</h3>
	    	</div>
	    	<div class="col-md-3 animate-show-hide text-right" style="padding-top: 0px;" ng-show="visibleUsers.length > 1 && !(loadingUsers || updatingCFIUF || updatingSimilarityGraph || clusteringNetwork)" ng-cloak>
	    		<h3>Topic clusters</h3>
	    	</div>
	    	<div class="col-md-3 animate-show-hide text-right" style="padding-top: 32px; font-size: 16px;" ng-show="visibleUsers.length > 1 && clusteringFinished && !zoomed" ng-cloak>
	    		Double-click a cluster to zoom in
	    	</div>
	    	<div class="col-md-3 animate-show-hide text-right" style="padding-top: 32px; font-size: 18px;" ng-show="visibleUsers.length > 1 && clusteringFinished && zoomed" ng-cloak>
	    		<a href="" ng-click="restoreGraph()">Restore original graph</a>
	    	</div>

		    <h1 class="col-md-12 text-center text-muted" style="margin-top: 64px;" ng-if="noUserFound">No user found with that screen name.</h1>
	    	
	    	<div class="animate-show-hide" ng-show="!loadingNetwork && users[0].userOntology.ontology && users.length <= 1">
		    	<div class="col-md-2">
					<input type="file" id="files">
					<button id="upload" class="btn btn-default" type="button">Upload DCG file</button>
			    </div>
		    	
		    	<div ng-if="users[0].valid" class="col-md-2 text-right">
			    	<a class="btn btn-lg btn-success btn-get-network" ng-click="getUserListFromSeed(users[0])" href="#">
							<i class="fa fa-2x"></i>Collect followers</a>
	    		</div>
	    	</div>
		</div>
		
		<div class="row" ng-cloak>
			<div class="col-md-5 user-area">
				<div class="col-md-12 spinner-large text-center" ng-if="loadingSeedUser"><i class="fa fa-spinner fa-spin"></i></div>
				<div infinite-scroll="loadMore()" infinite-scroll-disabled="pageSize >= 300" infinite-scroll-distance='0' ng-cloak>
		   				<div class="row panel-target-user" ng-include="'templates/user-panel.html'" ng-repeat="targetUser in visibleUsers | limitTo:pageSize"></div>
		   		</div>
		   	</div>
			
			<div class="col-md-7 graph-area">
				<div class="row text-center animate-show-hide" ng-show="visibleUsers.length > 0" ng-cloak>
					<div id="graph" class="graph col-md-12"></div>
					<div class="col-md-12 text-left" ng-repeat="entry in legend track by $index">
						<div class="col-md-12" style="font-size: 16px; display: inline;">
							<div style="display: inline; background-color: {{ colors[entry.group] }}; width: 48px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>&nbsp;&nbsp;&nbsp;<div style="display: inline;" ng-bind="entry.text"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
   		<div ng-include="'templates/settings.html'"></div>
    </div>
    
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="js/vendor/lodash.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular-resource.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular-animate.min.js"></script>
	<!-- <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script> -->
	
	<script src="js/vendor/d3.v3.min.js" charset="utf-8"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
       
	<script src="js/vendor/ng-infinite-scroll.min.js"></script>
	<script src="js/plugins.js"></script>
	<script src="js/main.js"></script>
	<script src="js/angular/services/graph-service.js"></script>
	<script src="js/angular/apps.js"></script>
	<script src="js/angular/controllers.js"></script>
	<script src="js/angular/directives.js"></script>
	<script src="js/angular/services/worker-services.js"></script>
	<script src="js/angular/services/evaluation-services.js"></script>
	<script src="js/angular/services/api-service.js"></script>
</body>
</html>